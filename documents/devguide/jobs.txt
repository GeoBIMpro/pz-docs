## Gateway API

The Gateway API is the single point-of-contact for external users to interact with Piazza Core components. This API provides functionality for loading and accessing data, registering and executing services, and registering events and triggers. The entirety of Piazza functionality is accessed through these Gateway API calls.

See the Swagger documentation for a full explanation of all of these endpoints.

### Job Management

Endpoints related to managing long-running jobs processed by Piazza.

* Get Job Status _GET_ `/job/{jobId}`
* Abort _DELETE_ `/job/{jobId}`
* Repeat _PUT_ `/job/{jobId}`

### Data Management Jobs

Endpoints related to managing geospatial data within Piazza.

* Access Data _GET_ `/data`
* Ingest _POST_ `/data`
* Ingest with File _POST_ `/data/file`
* Get Resource _GET_ `/data/{dataId}`
* Search Query _GET_ | _POST_ `/data/query`
* Search Metadata Ingest _POST_ `/data/metadata` *Where is the use case?*
* Access Request _POST_ `/deployment`
* Access Fetch _GET_ `/deployment/{deploymentId}`
* Access File _GET_ `/file/{dataId}`
* Search Metadata Ingest _POST_ `/data/metadata` *Where is the use case? TBD*

### Service Controller Jobs

Endpoints related to external service registrations and executions.

* Register Service _POST_ `/service`
* Describe Service _GET_ `/service/{serviceId}`
* List Services _GET_ `/service`
* Search Service _GET_ `/service?keywords=beachfront` _with query string_
* Delete Service _DELETE_ `/service/{serviceId}`
* Update Service _PUT_ `/service/{serviceId}`
* Execute Service _POST_ `/job`

### Workflow

Endpoints related to setting up events and event types, and defining triggers for when certain events occur.

* Get all events: `GET /event`
* Add an event: `POST /event/{eventType}`
* Get all events of a specific type: `GET /event/{eventType}`
* Get a specific event: `GET /event/{eventTypeId}/{eventId}`
* Delete a specific event: `DELETE /event/{eventTypeId}/{eventId}`
* Add an event type: `POST /eventType`
* Get all event types: `GET /eventType`
* Get a specific event type: `GET /eventType/{eventTypeId}`
* Delete a specific event type: `DELETE /eventType/{eventTypeId}`
* Add a trigger: `POST /trigger`
* Get all triggers: `GET /trigger`
* Get a specific trigger: `GET /trigger/{triggerId}`
* Delete a specific trigger: `DELETE /trigger/{triggerId}`
* Get all alerts: `GET /alert`
* Get a specific alert: `GET /alert/{alertId}`
* Delete a specific alert: `DELETE /alert/{alertId}`


# Legacy Jobs

The previous, now legacy, version of the Gateway API used the concept of "Everything is a Job". This means that every single Piazza action sent to the Gateway was a separate Job. This behavior is now deprecated, but still supported for the time being. If you are a new application, please do not reference this Legacy API. 

## Job Management

* [Abort Job](https://github.com/venicegeo/venice/wiki/Pz-Gateway#job-abort)
* [Get Job Status](https://github.com/venicegeo/venice/wiki/Pz-Gateway#job-status)
* [Repeat Job](https://github.com/venicegeo/venice/wiki/Pz-JobManager#repeating-jobs)

## Data Management Jobs

* [Ingest Job](https://github.com/venicegeo/venice/wiki/Pz-ingest#example-ingest-requests) _Shapefile, GeoTIFF, Text, WFS, GeoJSON_
* [Get Resource Job](https://github.com/venicegeo/venice/wiki/Pz-access#querying-metadata)
* [Access Job](https://github.com/venicegeo/venice/wiki/Pz-Access#accessing-data) _file downloads and GeoServer deployments
* [Search Metadata Ingest and Search Query Jobs](https://github.com/venicegeo/venice/wiki/Pz-Search-Services#search-through-the-piazza-workflow)

## Service Controller Jobs

* [Register Service Job](https://github.com/venicegeo/venice/wiki/User-Service-Requests-via-the-Gateway#registering-a-service)
* [Describe Service Job](https://github.com/venicegeo/venice/wiki/User-Service-Requests-via-the-Gateway#describe-user-service)
* [List Services Job](https://github.com/venicegeo/venice/wiki/User-Service-Requests-via-the-Gateway#listing-user-services)
* [Execute Service Job](https://github.com/venicegeo/venice/wiki/User-Service-Requests-via-the-Gateway#executing-a-service)
* [Delete Service Job] (https://github.com/venicegeo/venice/wiki/User-Service-Requests-via-the-Gateway#delete-user-service)
* [Update Service Job] (https://github.com/venicegeo/venice/wiki/User-Service-Requests-via-the-Gateway#update-user-service)
* [Search Service Job](https://github.com/venicegeo/venice/wiki/User-Service-Requests-via-the-Gateway#search-user-services)